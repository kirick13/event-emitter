module.exports=(()=>{const e="undefined",[t,n,r,o,i]=(()=>{if(typeof process!==e&&null!==process.versions&&null!==process.versions.node)return[!0];if(typeof EventTarget!==e)return[!1,!0];if(typeof document!==e&&"function"==typeof document.createElement)return[!1,!1,!0];if(typeof self!==e)return[!1,!1,!1,!0,!0];throw new Error("Cannot create event listener. Check your environment")})(),s=function(){this._bus=(()=>{if(t)return new(require("events"));return n?new EventTarget:r?document.createElement("p"):o?self:void 0})(),this._event_name_prefix=i?`eventemitter-${Math.random()}-`:""};return s.prototype.on=function(e,n){e=this._event_name_prefix+e;const r=this._bus;if(t)return r.on(e,n),()=>{r.off(e,n)};{const t=e=>{n(...e.detail)};return r.addEventListener(e,t),()=>{r.removeEventListener(e,t)}}},s.prototype.once=function(e,t){const n=this.on(e,((...e)=>{n(),t(...e)}));return n},s.prototype.emit=function(e,...n){e=this._event_name_prefix+e;const r=this._bus;t?r.emit(e,...n):r.dispatchEvent(new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n}))},s})();