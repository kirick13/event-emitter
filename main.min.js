module.exports=(e=>{const t=String(void 0),[n,r,o,i,s]=(()=>{if(typeof process!==t&&null!==process.versions&&null!==process.versions.node)return[!0];if(typeof EventTarget!==t)return[!1,!0];if(typeof document!==t&&"function"==typeof document.createElement)return[!1,!1,!0];if(typeof self!==t)return[!1,!1,!1,!0,!0];throw new Error("Cannot create event listener. Check your environment")})(),u=function(){this._bus=(()=>{if(n){return new(require("events"))}return r?new EventTarget:o?document.createElement("p"):i?self:void 0})(),this._event_name_prefix=s?`eventemitter-${Math.random()}-`:""};return u.prototype.on=function(e,t){e=this._event_name_prefix+e;const r=this._bus;if(n)return r.on(e,t),()=>{r.off(e,t)};{const n=e=>{t(...e.detail)};return r.addEventListener(e,n),()=>{r.removeEventListener(e,n)}}},u.prototype.once=function(e,t){const n=this.on(e,(...e)=>{n(),t(...e)});return n},u.prototype.emit=function(e,...t){e=this._event_name_prefix+e;const r=this._bus;n?r.emit(e,...t):r.dispatchEvent(new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:t}))},u})();